# api_yamdb

## Описание проекта

Командный учебный проект написанный в рамках обучения в Яндекс.Практикум.

На основе архитетуры REST API был реализован проект YaMDb, позволяющий пользователям оставлять отзывы на произведения. Произведения делятся на категории: "Книги", "Фильмы", "Музыка". Список категорий может быть расширен пользователем с ролью администратор. В каждой категории есть произведения: книги, фильмы или музыка. Произведения можно присваивать жанр из предустановленных. Новые жанры могут создавать админитраторы. Обычные пользователи могут отправлять текстовые отзывы к произведениям и ставить оценку в диапазоне от одного до десяти. Из пользовательских оценок формируется усредненная оценка произведения - рейтинг. На одно произведение пользователь может ставить только один отзыв.

## Запуск проекта
1. Клонировать репозиторий с github
```
git clone https://github.com/levkovv/api_yamdb
```
2. Перейти в папку с проектом
```
cd api_yamdb
```
3. Установить и активировать виртуальное окружение
```
python3 -m venv venv
```
```
source venv/bin/activate
```
4. Установить зависимости из requirements.txt
```
python3 -m pip install --upgrade pip
```
```
pip install -r requirements.txt
```
5. Выполнить миграции
```
python3 manage.py migrate
```
6. Запустить проект 
```
python3 manage.py runserver
```
Документацию со всеми эндпоинтами и примерами можно посмотреть по адресу
```
http://127.0.0.1:8000/redoc/
```

## Для регистрации пользователя необходимо
1. Добавить нового пользователя. Отправить POST-запрос с параметрами ```email``` и ```username``` на эндпоинт ```/api/v1/auth/signup```
2. Сервис отправляет письмо с кодом подтверждения (```confirmation_code```) на указанный адрес ```email``` (на данном этапе письмо появится в папке ```sent_emails```)
3. Пользователь отправляет POST-запрос с параметрами ```username``` и ```confirmation_code``` на эндпоинт ```/api/v1/auth/token/```, в ответе на запрос ему приходит JWT-токен